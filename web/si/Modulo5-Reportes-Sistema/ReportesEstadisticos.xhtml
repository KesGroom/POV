<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <link href="../../Resources/css/5.css" rel="stylesheet" type="text/css"/>
        <link href="../../Resources/css/K1.css" rel="stylesheet" type="text/css"/>
        <link href="../../Resources/css/materialize.POV.css" rel="stylesheet" type="text/css"/>
        <link rel="shorcut icon" href="../../Resources/img/Sistema/LOGOFavicon.png"/>
        <title>Generador de reportes</title>
    </h:head>
    <h:body class="scrollbarStyle bodyFormBackground">
        <f:view  locale="#{lenguajeControlador.languageSelected}">
            <div class="Bread">
                <a href="../../Resources/Pages/VistaInicialDash.xhtml">#{Noticias.bcInicio}</a>
                <ion-icon name="chevron-forward-outline"></ion-icon>
                <a href="#">Generar reportes</a>
            </div>
            <main style="padding-top: 2rem;">
                <div class="criteriosCont desingBasic">
                    <h:form>
                        <div class="row">
                            <div class="col s4 input-field">
                                <h:outputText class="FalseLabel" value="Entidad"></h:outputText><br/>
                                <h:selectOneMenu value="#{reportesControlador.entidad}" class="browser-default">
                                    <f:selectItem itemLabel="Ejemplo" itemValue="Ejemplo"></f:selectItem>
                                    <f:selectItem itemLabel="Rol" itemValue="Rol"></f:selectItem>
                                </h:selectOneMenu>
                            </div>
                            <div class="col s4 input-field">
                                <h:outputText class="FalseLabel" value="Tipo de gráfica"></h:outputText><br/>
                                <h:selectOneMenu value="#{reportesControlador.tipoGrafica}" class="browser-default">
                                    <f:selectItem itemLabel="Dona" itemValue="Dona"></f:selectItem>
                                    <f:selectItem itemLabel="Barras" itemValue="Barras"></f:selectItem>
                                </h:selectOneMenu>
                            </div>
                            <div class="col s4 input-field">
                                <h:commandButton value="Generar gráfico" action="#{reportesControlador.obtenerGrafica()}"></h:commandButton>
                            </div>
                        </div>
                    </h:form>
                </div>
                <div class="graficaCont desingBasic">
                    <div class="graficas" style="width: 45%; padding: 5rem;">
                        <canvas id="grafica" width="350" height="350"></canvas>
                    </div>
                </div>
                <div id="contControl" class="controlesCont desingBasic">
                    <a class="accionador" id="acc" title="Mostrar/Ocultar"><ion-icon id="accIcon" name="caret-down"></ion-icon></a>
                    <a href="" class="btnPDF"><ion-icon name="document"></ion-icon>Añadir</a>
                    <a href="" class="btnPDF"><ion-icon name="download"></ion-icon> Descargar</a>
                </div>
            </main>

        </f:view>
        <script src="../../Resources/js/materialize.min.js" type="text/javascript"></script>
        <script>
            M.AutoInit();
        </script>
        <script type="module" src="https://unpkg.com/ionicons@5.0.0/dist/ionicons/ionicons.esm.js"></script>
        <script nomodule="" src="https://unpkg.com/ionicons@5.0.0/dist/ionicons/ionicons.js"></script>
        <script src="../../Resources/js/jquery.min.js" type="text/javascript"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.js"></script>
        <script src="../../Resources/js/EjemplosJS.js" type="text/javascript"></script>
        <script>
            #{alertasControlador.grafica}
        </script>
        <script>
            var CC = document.getElementById("contControl");
            var AC = document.getElementById("acc");
            var ACI = document.getElementById("accIcon");

            AC.addEventListener('click', function () {
                CC.classList.toggle("active");
                var nameIcon = ACI.getAttribute("name");
                if (nameIcon === 'caret-down') {
                    ACI.setAttribute('name', 'caret-up');
                } else {
                    ACI.setAttribute('name', 'caret-down');
                }
            });
        </script>
    </h:body>
</html>

