<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <link href="../../Resources/css/materialize.min.css" rel="stylesheet" type="text/css"/>
        <link href="../../Resources/css/Noticias.css" rel="stylesheet" type="text/css"/>
        <link href="../../Resources/img/Sistema/LOGOFavicon.png" alt=""/>
        <link href="../../Resources/css/zonaCoordinador.css" rel="stylesheet" type="text/css"/>
        <title>Noticias</title>
    </h:head>
    <h:body>
        <div class="Bread">
            <a href="../../Resources/Pages/VistaInicialDash.xhtml">Principal</a>
            <ion-icon name="chevron-forward-outline"></ion-icon>
            <a href="#">Noticias</a>
        </div>

        <div class="activador tooltipped" id="actAddZona" data-position="bottom" data-tooltip="Añadir Noticia"><ion-icon id="iconZona" name="newspaper"></ion-icon></div>
        <div class="activador tooltipped" id="actAddBit" data-position="bottom" data-tooltip="Añadir Categoria"><ion-icon id="iconBit" name="trail-sign"></ion-icon></div>

        <div class="registro" id="formAddZona">
            <f:view>                                         

                <h:form>
                    <h3 class="tituloFormulario">Registrar Noticia</h3>
                    <p:panelGrid columns="2">
                        <p:outputLabel value="Titulo:" for="titulo" />
                        <p:inputText id="titulo" value="#{noticiaControlador.noticia.titulo}" title="Titulo" required="true" requiredMessage="The Titulo field is required."/>
                        <p:outputLabel value="Subtitulo:" for="subtitulo" />
                        <p:inputText id="subtitulo" value="#{noticiaControlador.noticia.subtitulo}" title="Subtitulo" required="true" requiredMessage="The Subtitulo field is required."/>
                        <p:outputLabel value="Información:" for="informacion" />
                        <p:inputTextarea rows="4" cols="30" id="informacion" value="#{noticiaControlador.noticia.informacion}" title="Informacion" required="true" requiredMessage="The Informacion field is required."/>
                        <p:outputLabel value="Imagen: (opcional)" for="imagen" />
                        <p:inputText id="imagen" value="#{noticiaControlador.noticia.imagen}" title="Imagen" />
                        <p:outputLabel value="Categoria:" for="categoria" />
                        <p:selectOneMenu id="categoria" value="#{noticiaControlador.categoria.idCategoria}" required="true" requiredMessage="The Categoria field is required.">
                            <!-- TODO: update below reference to list of available items-->
                            <f:selectItems value="#{categoriaControlador.consultarCategorias()}" var="cat" itemLabel="#{cat.categoria}" itemValue="#{cat.idCategoria}"/>
                        </p:selectOneMenu>
                        <p:outputLabel value="Publicado por:" for="coordinador" />
                        <p:selectOneMenu id="coordinador" value="#{noticiaControlador.coordinador.idUsuario}" required="true" requiredMessage="The Coordinador field is required.">
                            <!-- TODO: update below reference to list of available items-->
                            <f:selectItems value="#{usuarioControlador.conseguirUsuario(sesionControlador.usuario.idUsuario)}" var="coor" itemLabel="#{coor.nombre}" itemValue="#{coor.idUsuario}"/>
                        </p:selectOneMenu>
                    </p:panelGrid>
                    <div class="botonesControl">
                        <input type="reset" class=" red darken-4 waves-effect waves-light" value="Vaciar"></input>
                        <h:commandButton value="Registrar" styleClass=" red darken-4 waves-effect waves-light" action="#{noticiaControlador.registrar()}"></h:commandButton>
                    </div>
                </h:form>



            </f:view>

        </div>

        <div class="registro" id="formAddBit">
            <f:view>
                <h:form>
                    <h3 class="tituloFormulario">Registrar Categoría</h3>
                    <p:panelGrid columns="2">
                        <p:outputLabel value="Categoria:" for="categoria" />
                        <p:inputText id="categoria" value="#{categoriaControlador.categoria.categoria}" title="Categoria" required="true" requiredMessage="The Categoria field is required."/>
                    </p:panelGrid>
                    <div class="botonesControl">
                        <input type="reset" class=" red darken-4 waves-effect waves-light" value="Vaciar"></input>
                        <h:commandButton value="Registrar" styleClass=" red darken-4 waves-effect waves-light" action="#{categoriaControlador.registrar()}"></h:commandButton>
                    </div>
                </h:form>
            </f:view>
        </div>


        <main>
            <div class="contenedorTitulos">
                <a href="Noticias.xhtml" class="titulo">Noticias</a>
                <ion-icon name="chevron-forward-outline"></ion-icon>
                <a href="Categorias.xhtml" class="subTitulo">Categorias</a>
            </div>

            <div class="row">
                <h:form id="tabsNoticia">
                    <div class="contenedorTabs">
                        <ul class="tabs">
                            <li class="tab"><a href="#todos">Todos</a></li>
                            <c:forEach items="#{categoriaControlador.consultarCategorias()}" var="cn">
                                <li class="tab"><a href="##{cn.idCategoria}">#{cn.categoria}</a></li>
                            </c:forEach>
                        </ul>
                    </div>
                    <div id="todos" class="col s12 fondoTab">
                        
                    </div>
                    

                </h:form>
            </div>
        </main>




        <script src="../../Resources/js/materialize.min.js" type="text/javascript"></script>
        <script>
            M.AutoInit();
        </script>
        <script src="../../Resources/js/ServicioSocial.js" type="text/javascript"></script>
    </h:body>
</html>

